<div class="row">
	<div class="col-sm-12">
		<div class="well well-sm">
			<div class="row">
				<div class="col-sm-12 col-md-12 col-lg-12">
					<div class="well well-light well-sm no-margin no-padding">
						<div class="row">
							<div class="col-sm-12">
								<div id="myCarousel" class="carousel profile-carousel">
									<div class="air air-bottom-right padding-10">
										<a ng-if="currentUser.roles[0] == 'director' || currentUser.roles[0] == 'coordinadorFinanciero'" ui-sref="root.convenios({alumno_id : al.alumno._id})" class="btn txt-color-white bg-color-teal btn-sm">
											<i class="fa fa-cogs"></i> Convenios
										</a>&nbsp;
										<a ng-if="currentUser.roles[0] == 'director' || currentUser.roles[0] == 'coordinadorFinanciero'" ui-sref="root.editarAlumno({alumno_id : al.alumno._id})" class="btn txt-color-white bg-color-pinkDark btn-sm">
	 										<i class="fa fa-pencil"></i> Modificar
	 									</a> 
									</div>
									<div class="air air-top-left padding-10">
										<h4 class="txt-color-white font-md"><i class="fa fa-calendar"></i>&nbsp;&nbsp;{{al.fechaActual | date:'dd-MM-yyyy'}}</h4>
									</div>
									<ol class="carousel-indicators">
									</ol>
									<div class="carousel-inner">
										<div class="item active">
											<img src="img/demo/s1.jpg" alt="" style="width:100%">
										</div>
									</div>
								</div>
							</div>
							<div class="col-sm-12">
								<div class="row">
									<div class="col-sm-2 profile-pic" style="text-align:left;width:initial;">
										<img style="max-width:200px;" src="{{al.tieneFoto(al.alumno.profile.sexo, al.alumno.profile.fotografia)}}" >
										<div class="padding-10">
											<h4 class="font-md"><strong>0</strong>
											<br>
											<small>Seguidores</small></h4>
											<br>
											<h4 class="font-md"><strong>0</strong>
											<br>
											<small>Amigos</small></h4>
										</div>
									</div>
									<div class="col-sm-6">
										<h1>{{al.alumno.profile.nombre}} <span class="semi-bold">{{al.alumno.profile.apPaterno}} {{al.alumno.profile.apMaterno}}</span>
										
										<small> (Alumno)</small></h1>
										<ul class="list-unstyled">
											<li>
												<p class="text-muted">
													<i class="fa fa-key fa-lg"></i>&nbsp;&nbsp;
													<span class="txt-color-darken">
														<strong>{{al.alumno.profile.matricula}}</strong>
													</span>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-phone fa-lg"></i>&nbsp;&nbsp;<span class="txt-color-darken">{{al.alumno.profile.tel1}}</span>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-envelope fa-lg"></i>&nbsp;&nbsp;<a href="mailto:{{al.alumno.profile.correo}}">{{al.alumno.profile.correo}}</a>
												</p>
											</li>
											<li>
												<p class="text-muted">
													<i class="fa fa-birthday-cake fa-lg"></i>&nbsp;&nbsp;<span class="txt-color-darken">{{al.alumno.profile.fechaNac | date:"dd-MM-yyyy"}}</span>
												</p>
											</li>
										</ul>
										<br>
										<p class="font-sm">
											<i>Un poco acerca de mi...</i>
										</p>
										<p class="font-xs">
											{{al.alumno.profile.observacionesGenerales}}
										</p>
										<br>
									</div>
									<!--																
									<div class="col-sm-3">
										<h1><small>Amigos</small></h1>
										<ul class="list-inline friends-list">
											<li><img src="img/avatars/1.png" alt="friend-1">
											</li>
											<li><img src="img/avatars/2.png" alt="friend-2">
											</li>
											<li><img src="img/avatars/3.png" alt="friend-3">
											</li>
											<li><img src="img/avatars/4.png" alt="friend-4">
											</li>
											<li><img src="img/avatars/5.png" alt="friend-5">
											</li>
											<li><img src="img/avatars/male.png" alt="friend-6">
											</li>
											<li>
												<a href="javascript:void(0);">413 more</a>
											</li>
										</ul>
									</div>
									-->
								</div>
								<div class="row">
									<div class="col-sm-12">
										<ul class="nav nav-tabs">
											<a class="btn btn-primary" ui-sref="root.alumnos">
												Regresar
											</a>
											<li class="pull-right">
												<a ng-click="al.masInformacion()" role="button" data-toggle="collapse"
			href="#masInformacion" aria-expanded="false" aria-controls="masInformacion"><i class="fa fa-{{al.masInfo == true ? 'plus':'minus'}} fa-lg"></i></a>
											</li>
										</ul>
										<div class="collapse padding-10" id="masInformacion">
											<div class="tab-pane">
												<div class="col-sm-6">
													<ul class="list-unstyled">															
														<li>
															<address>
															  <strong>Información de la Madre</strong><br>
															  <strong>Nombre:</strong> {{al.alumno.profile.madre}}<br>
															  <strong>Teléfono:</strong> {{al.alumno.profile.telefonoMadre}}
															  <strong>Correo:</strong> {{al.alumno.profile.correoMadre}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Dirección</strong><br>
															  {{al.alumno.profile.calleNum}}, {{al.alumno.profile.colonia}}<br>
															  {{al.alumno.profile.ciudad}}, {{al.alumno.profile.estado}} {{al.alumno.profile.codigoPostal}}<br>
															</address>
														</li>
														<li>
															<address>
															  <strong>Lugar de Nacimiento</strong><br>
															  {{al.alumno.profile.lugarNac}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Escolaridad</strong><br>
															  {{al.alumno.profile.escolaridad}}
															</address>
														</li>		
														<li>
															<address>
															  <strong>Nivel Social</strong><br>
															  {{al.alumno.profile.nivelSocial}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Correo para Calificaciones</strong><br>
															  {{al.alumno.profile.correoCalificaciones}}
															</address>
														</li>											
													</ul>	
												</div>
												<div class="col-sm-6">
													<ul class="list-unstyled">
														<li>
															<address>
															  <strong>Información del Padre</strong><br>
															  <strong>Nombre:</strong> {{al.alumno.profile.padreTutor}}<br>
															  <strong>Teléfono:</strong> {{al.alumno.profile.telefonoPadre}}
															  <strong>Correo:</strong> {{al.alumno.profile.correoPadre}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Teléfono Secundario</strong><br>
																{{al.alumno.profile.tel2}}															  
															</address>
														</li>													
														<li>
															<address>
															  <strong>Ocupación del Alumno</strong><br>
															  {{al.getOcupacion(al.alumno.profile.ocupacion_id)}}
															</address>
														</li>													
														<li>
															<address>
															  <strong>Cómo te enteraste de nosotros</strong><br>
															  {{al.alumno.profile.medio}}
															</address>
														</li>
														<li>
															<address>
															  <strong>Talla</strong><br>
																{{al.alumno.profile.talla}}															  
															</address>
														</li>														
													</ul>	
												</div>
											</div>											
											<div class="tab-pane" id="pagos">												
												<div class="row">
													<section class="col col-sm-1 text-center padding-20" ng-repeat="semana in al.misSemanas" ng-click="al.seleccionarSemana(semana)" ng-class="($index == al.misSemana.length) ? al.obtenerEstatus(semana.pagada) : ''">
														<label class="input text-center">
															<label type="text" class="text-center">{{semana.numero}} / {{semana.anio}} | {{semana.pagada}}</label>
														</label>
													</section>													
												</div>																		
											</div>											
										</div>
									</div>
								</div>
							</div>													
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
<div class="row" ng-if="al.estaInscrito(al.alumno._id)">
	<div class="col col-sm-12">
		<section id="widget-pagos" data-widget-grid="data-widget-grid">
		  <div class="row">
		    <div class="col-sm-12">
		      <div data-widget-color="blue" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-jarvis-widget="data-jarvis-widget">
		        <header>
		          <h2>Pagos</h2>
		        </header>
		        <div>
		          <div class="widget-body">
			          <div ng-repeat = "curso in al.inscripciones">
			            <form class="smart-form"  novalidate> 
										<header>
											<div class="row">
												<div class="col-sm-4">
													<h1>  {{curso.grupo.nombre}} - {{curso.grupo.turno.nombre}} </h1>
												</div>
												<div class="col-sm-2 col-sm-offset-4">
													<div class="form-group">
														<label for="repeatSelect">Tipo de Plan de Pago:</label>
														<select class="form-control" name="repeatSelect" id="repeatSelect" 
															ng-model="curso.planPagos.colegiatura.tipoColegiatura" 
															ng-change="al.cambioTipoColegiatura(curso.planPagos.colegiatura.tipoColegiatura,'{{curso.planPagos.colegiatura.tipoColegiatura}}', curso)" >
															<option ng-repeat="plan in al.tipoPlanes" value="{{plan}}">{{plan}}</option>
														</select>
													</div>
												</div>
											</div>
										</header>	
										<div >
											<h2> Conceptos de inscripcion : </h2>	
											<fieldset>
												<div class="row">
												<section class="col col-2" ng-click="al.seleccionarConcepto(cobro,curso)" ng-repeat = "cobro in curso.pagos" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input class="font-xs" ng-class="al.obtenerEstatus(cobro)"  type="text" value="{{cobro.nombre}}" disabled="" title="">
													</label>
												</section>
												</div>
											</fieldset>
										</div>	
										<div  ng-class="{desactivado: !al.inscripcionCompleta(curso)}">
											<h2> Colegiatura : </h2>	
											<fieldset>
												<div class="row">
												<section class="col col-1" ng-click="al.seleccionarSemana(cobro, al.planPagos[curso._id], curso)" ng-repeat = "cobro in al.planPagos[curso._id]" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input class="font-xs" ng-class="al.obtenerEstatus(cobro)" type="text" value="{{cobro.semana}} / {{cobro.anio}}" disabled="" title="Cobro {{cobro.tipoPlan}}&#10;Fecha de corte:{{cobro.fecha|date:'dd/MM/yyyy'}}">
													</label>
												</section>
												</div>
											</fieldset>
										</div>
										<fieldset>
											<div class="row">
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Seleccionados" disabled="" class="bg-color-blue txt-color-white">
													</label>
												</section>
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Recargos" disabled="" class="bg-color-orange txt-color-white">
													</label>
												</section>
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Pagados" disabled="" class="bg-color-green txt-color-white">
													</label>
												</section>
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Condonados" disabled="" class="bg-color-blueDark txt-color-white">
													</label>
												</section>
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Abonados" disabled="" class="bg-color-greenLight txt-color-white">
													</label>
												</section>
												<section class="col col-2" style="padding-left: 2px; padding-right: 2px; margin-bottom: 5px;">
													<label class="input">
														<input  type="text" value="Pendientes" disabled="" class="">
													</label>
												</section>
											</div>
										</fieldset>
										<div class="well well-sm  bg-color-darken txt-color-white no-border">
											<div class="fa-lg">
												
												Total abonado :
												<span class="pull-right"> {{curso.abono | currency}} Pesos </span>
												
											</div>			

										</div>
										<div class="well well-sm  bg-color-darken txt-color-white no-border">
											<div class="fa-lg">
												
												Total a Pagar :
												<span class="pull-right"> {{al.ttotalpagar | currency}} Pesos </span>
												
											</div>			

										</div>
										<div class="well well-sm  bg-color-darken txt-color-white no-border">
											<div class="fa-lg">
												
												Total  :
												<span class="pull-right"> {{al.totalPagar | currency}} Pesos </span>
												
											</div>			

										</div>

										<div ng-if="al.inscripcionCompleta(curso)">
											<div class="pull-left" style="margin:20px;" >
												<button type="button" class="btn btn-primary btn-lg" ng-click="al.condonar(al.planPagos[curso._id], curso)" ng-disabled="al.hayParaPagar">Condonar</button>
											</div>
											
											<div class="pull-right" style="margin:20px;">
												
												<a target="_blank" type="button" class="btn btn-primary btn-lg" ng-click="al.pagar(al.planPagos[curso._id], curso)" ng-disabled="al.hayParaPagar">Pagar</a>
											</div>
											
											
										</div>

										<div ng-if="!al.inscripcionCompleta(curso)">
											<div class="pull-left" style="margin:20px;" >
												<button type="button" class="btn btn-primary btn-lg" ng-click="al.condonarConcepto(curso)" ng-disabled="al.hayParaPagar">Condonar</button>
											</div>
											
											<div class="pull-right" style="margin:20px;">
												<a target="_blank" type="button" class="btn btn-primary btn-lg" ng-click="al.pagarConcepto(curso)" ng-disabled="al.hayParaPagar">Pagar</a>
	<!-- 											<a target="_blank" type="button" class="btn btn-primary btn-lg" data-toggle="modal" data-target="#modalPagos" ng-disabled="al.hayParaPagar">Pagar</a> -->
											</div>
											
											
											
											
										</div>
										
									</form>		
									<div class="row">
										<div class="col-sm-12">
											<!-- Modal -->
											<div class="modal fade" id="modalPagos" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
											  <div class="modal-dialog" role="document">
											    <div class="modal-content">
											      <div class="modal-header">
											        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
											        <h4 class="modal-title" id="myModalLabel">Pagos</h4>
											      </div>
											      <div class="modal-body">
												      <table class="table table-bordered">
													      <tr>
														      <th>No.</th>
														      <th>Semana</th>
														      <th>Importe</th>
													      </tr>
													      <tr ng-repeat="semana in al.semanasSeleccionadas">
														      <td>{{$index + 1}}</td>
														      <td>{{semana.semana}}</td>
														      <td>{{curso.planPagos.colegiatura[semana.tipoPlan].importeRegular | currency}}</td>
													      </tr>
												      </table>
											        <form class="navbar-form navbar-left" role="search">
															  <div class="form-group">
															    <input type="number" class="form-control" ng-model="al.pagaCon" placeholder="Paga Con">
															  </div>
															  <button ng-click="al.pagar(al.planPagos[curso._id], curso)" class="btn btn-default">Pagar</button>
															</form>
											      </div>
											      <div class="modal-footer">
											        <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
											        <button type="button" class="btn btn-primary">Save changes</button>
											      </div>
											    </div>
											  </div>
											</div>
										</div>
									</div>
			          </div>						
		          </div>
		        </div>
		      </div>
		    </div>
		  </div>
		  <div class="row">
		    <div class="col-sm-12">
		      <div data-widget-color="blue" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-deletebutton="false" data-widget-fullscreenbutton="false" data-jarvis-widget="data-jarvis-widget">
		        <header>
		          <h2>Currícula</h2>
		        </header>
		        <div>
		          <div class="widget-body">
		            <table class="table table-bordered table-responsive" ng-repeat="planEstudio in al.curriculas">						
									<tr ng-repeat="(key, value) in planEstudio.grados" >
										<th width="5%"><div class="text-center">{{key + 1}}</div></th>
										<td ng-repeat="_materia in planEstudio.grados[key]" 
												ng-class="_materia.aprobado == true ? 'bg-color-green txt-white' : _materia.aprobado != undefined ? 'bg-color-red text-white' : ''" style="padding-bottom: 3px !important;">
											<div class="row">
												<div class="col-sm-8" ng-class="_materia.aprobado == true ? 'txt-white' : _materia.aprobado != undefined ? 'txt-white' : ''">
													<strong>{{_materia.materia.nombreCorto}}</strong>
												</div>
											</div>
											<p style="margin-bottom: 0px !important;" ng-class="_materia.aprobado == true ? 'txt-white' : _materia.aprobado != undefined ? 'txt-white' : ''"><small>{{_materia.materia.nombre}}</small></p>	
											<p style="margin-bottom: 0px !important;" ng-if="_materia.aprobado != undefined" ng-class="_materia.aprobado == true ? 'txt-white' : _materia.aprobado != undefined ? 'txt-white' : ''"><small>Calif. {{_materia.calificacion}}</small></p>	
										</td>
									</tr>
								</table>
		          </div>
		        </div>
		      </div>
		    </div>
		  </div>
		</section>	
	</div>
</div>

