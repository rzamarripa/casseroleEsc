var __extends=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},__decorate=this&&this.__decorate||function(t,e,n,i){var r,o=arguments.length,a=3>o?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var p=t.length-1;p>=0;p--)(r=t[p])&&(a=(3>o?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a},__metadata=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},__param=this&&this.__param||function(t,e){return function(n,i){e(n,i,t)}};System.register("file-filter",[],function(t,e){"use strict";var n,i,r,o,a;e&&e.id;return{setters:[],execute:function(){n=function(){function t(){}return t.prototype.filterFiles=function(t){return t},t}(),t("NullFileFilter",n),i=function(){function t(){}return t.prototype.filterFiles=function(t){return t.filter(this.checkFile,this)},t}(),t("SimpleFileFilter",i),r=function(t){function e(e){t.call(this),this.extRE=/\.([^.]+)$/,this.extensions=e||[]}return __extends(e,t),Object.defineProperty(e.prototype,"acceptString",{get:function(){return this.extensions.join(",")},enumerable:!0,configurable:!0}),e.prototype.checkExt=function(t){var e=this.extRE.exec(t),n=e&&e[1];return n?this.extensions.some(function(t){return n==t}):!1},e.prototype.checkFile=function(t){return this.checkExt(t.name)},e}(i),t("FileExtensionFilter",r),o=function(t){function e(e){t.call(this),this.mimeTypes=e}return __extends(e,t),e.prototype.checkFile=function(t){return this.mimeTypes.some(function(e){return t.type==e})},Object.defineProperty(e.prototype,"acceptString",{get:function(){return this.mimeTypes.join(",")},enumerable:!0,configurable:!0}),e}(i),t("MimeExtensionFilter",o),a=function(t){function e(e){t.call(this),this.acceptString=e}return __extends(e,t),Object.defineProperty(e.prototype,"acceptString",{get:function(){return this._acceptStr},set:function(t){for(var e=t.split(","),n=[],i=[],a=0,p=e;a<p.length;a++){var c=p[a];"."==c[0]?i.push(c):n.push(c)}this.mime=new o(n),this.ext=new r(i)},enumerable:!0,configurable:!0}),e.prototype.checkFile=function(t){return this.mime.checkFile(t)||this.ext.checkFile(t)},e}(i),t("AcceptFileFilter",a)}}}),System.register("file-drop-zone.directive",["@angular/core","file-filter"],function(t,e){"use strict";function n(t){return Array.prototype.some.call(t.dataTransfer.items,function(t){return"file"==t.kind})}var i,r,o;e&&e.id;return{setters:[function(t){i=t},function(t){r=t}],execute:function(){o=function(){function t(){this.fileUpload=new i.EventEmitter,this.fileDragEnter=new i.EventEmitter,this.fileDragExit=new i.EventEmitter,this.dragging=!1}return t.prototype.onDrop=function(t){var e=this.filter.filterFiles(Array.from(t.dataTransfer.files));e.length>0&&(this.fileUpload.emit(e),this.dragging=!1,t.preventDefault(),t.stopPropagation())},t.prototype.onEnter=function(t){this.canDrop(t)&&(this.dragging=!0,this.fileDragEnter.emit(t))},t.prototype.onExit=function(t){this.dragging&&(this.dragging=!1,this.fileDragExit.emit(t))},t.prototype.onOver=function(t){this.canDrop(t)&&(t.stopPropagation(),t.preventDefault())},Object.defineProperty(t.prototype,"draggingFile",{get:function(){return this.dragging},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.filter||(this.filter=new r.NullFileFilter),this.canDrop||(this.canDrop=n)},__decorate([i.Input("fileFilter"),__metadata("design:type",Object)],t.prototype,"filter",void 0),__decorate([i.Input(),__metadata("design:type",Function)],t.prototype,"canDrop",void 0),__decorate([i.Output(),__metadata("design:type",i.EventEmitter)],t.prototype,"fileUpload",void 0),__decorate([i.Output(),__metadata("design:type",i.EventEmitter)],t.prototype,"fileDragEnter",void 0),__decorate([i.Output(),__metadata("design:type",i.EventEmitter)],t.prototype,"fileDragExit",void 0),__decorate([i.HostListener("drop",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[DragEvent]),__metadata("design:returntype",void 0)],t.prototype,"onDrop",null),__decorate([i.HostListener("dragenter",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[DragEvent]),__metadata("design:returntype",void 0)],t.prototype,"onEnter",null),__decorate([i.HostListener("dragleave",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[DragEvent]),__metadata("design:returntype",void 0)],t.prototype,"onExit",null),__decorate([i.HostListener("dragover",["$event"]),__metadata("design:type",Function),__metadata("design:paramtypes",[DragEvent]),__metadata("design:returntype",void 0)],t.prototype,"onOver",null),__decorate([i.HostBinding("class.file-zone-dragging"),__metadata("design:type",Object)],t.prototype,"draggingFile",null),t=__decorate([i.Directive({selector:"[fileDrop]"}),__metadata("design:paramtypes",[])],t)}(),t("FileDropZoneDirective",o)}}}),System.register("file-input.component",["@angular/core","file-filter"],function(t,e){"use strict";var n,i,r;e&&e.id;return{setters:[function(t){n=t},function(t){i=t}],execute:function(){r=function(){function t(t,e){this.renderer=t,this.multiple=!1,this.disabled=!1,this.fileUpload=new n.EventEmitter,this.accept=e||""}return t.prototype.onChange=function(t){var e=this.filter.filterFiles(Array.from(t.files));e.length>0&&(this.fileUpload.emit(e),this.reset())},Object.defineProperty(t.prototype,"acceptStr",{get:function(){return this.filter.acceptString||this.accept},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.filter||(this.accept?this.filter=new i.AcceptFileFilter(this.accept):this.filter=new i.NullFileFilter)},t.prototype.reset=function(){this.renderer.invokeElementMethod(this.form.nativeElement,"reset",[])},__decorate([n.Input(),__metadata("design:type",Boolean)],t.prototype,"multiple",void 0),__decorate([n.Input(),__metadata("design:type",Boolean)],t.prototype,"disabled",void 0),__decorate([n.Input("fileFilter"),__metadata("design:type",Object)],t.prototype,"filter",void 0),__decorate([n.Output(),__metadata("design:type",n.EventEmitter)],t.prototype,"fileUpload",void 0),__decorate([n.HostListener("change",["$event.target"]),__metadata("design:type",Function),__metadata("design:paramtypes",[HTMLInputElement]),__metadata("design:returntype",void 0)],t.prototype,"onChange",null),__decorate([n.ViewChild("form"),__metadata("design:type",n.ElementRef)],t.prototype,"form",void 0),t=__decorate([n.Component({selector:"file-input, file-select",template:'\n<ng-content></ng-content>\n<form #form>\n<input type="file" title=" " [accept]="acceptStr" [attr.multiple]="multiple || null" [attr.disabled]="disabled || null" />\n</form>',styles:["\n:host {\n  display: block;\n  position: relative;\n}\ninput {\n  position: absolute;\n  opacity: 0;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n} "]}),__param(1,n.Attribute("accept")),__metadata("design:paramtypes",[n.Renderer,String])],t)}(),t("FileInputComponent",r)}}});
//# sourceMappingURL=maps/ng-file-input.js.map
